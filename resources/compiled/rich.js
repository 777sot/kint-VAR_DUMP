"undefined"==typeof kintRich&&(kintRich=function(){var e={doubleClickTimer:null,selectText:function(e){var t=window.getSelection(),a=document.createRange();a.selectNodeContents(e),t.removeAllRanges(),t.addRange(a)},each:function(e,t){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach(t)},hasClass:function(e,t){return!!e.classList&&("undefined"==typeof t&&(t="kint-show"),e.classList.contains(t))},addClass:function(e,t){"undefined"==typeof t&&(t="kint-show"),e.classList.add(t)},removeClass:function(e,t){return"undefined"==typeof t&&(t="kint-show"),e.classList.remove(t),e},toggle:function(t,a){var r=e.getChildren(t);r&&("undefined"==typeof a&&(a=e.hasClass(t)),a?e.removeClass(t):e.addClass(t),1===r.childNodes.length&&(r=r.childNodes[0].childNodes[0],r&&e.hasClass(r,"kint-parent")&&e.toggle(r,a)))},toggleChildren:function(t,a){var r=e.getChildren(t);if(r){var o=r.getElementsByClassName("kint-parent"),n=o.length;for("undefined"==typeof a&&(a=e.hasClass(t));n--;)e.toggle(o[n],a);e.toggle(t,a)}},toggleAll:function(t){for(var a=document.getElementsByClassName("kint-parent"),r=a.length,o=e.hasClass(t.parentNode);r--;)e.toggle(a[r],o)},switchTab:function(t){var a,r=t,o=0;for(t.parentNode.getElementsByClassName("kint-active-tab")[0].className="",t.className="kint-active-tab";r=r.previousSibling;)1===r.nodeType&&o++;a=t.parentNode.nextSibling.childNodes;for(var n=0;n<a.length;n++)n===o?(a[n].style.display="block",1===a[n].childNodes.length&&(r=a[n].childNodes[0].childNodes[0],r&&e.hasClass(r,"kint-parent")&&e.toggle(r,!1))):a[n].style.display="none"},openInNewWindow:function(e){var t;(t=window.open())&&(t.document.open(),t.document.write("<html><head><title>Kint ("+(new Date).toISOString()+')</title><meta charset="utf-8">'+document.getElementsByClassName("-kint-js")[0].outerHTML+document.getElementsByClassName("-kint-css")[0].outerHTML+'</head><body><input style="width: 100%" placeholder="Take some notes!"><div class="kint">'+e.parentNode.outerHTML+"</div></body>"),t.document.close())},sortTable:function(e,t){var a=e.tBodies[0],r=function(e){var a=1===t?e.replace(/^#/,""):e;return isNaN(a)?e.trim().toLocaleLowerCase():(a=parseFloat(a),isNaN(a)?e.trim():a)};[].slice.call(e.tBodies[0].rows).sort(function(e,a){return e=r(e.cells[t].textContent),a=r(a.cells[t].textContent),e<a?-1:e>a?1:0}).forEach(function(e){a.appendChild(e)})},showAccessPath:function(t){for(var a=t.childNodes,r=0;r<a.length;r++)if(e.hasClass(a[r],"access-path"))return void(e.hasClass(a[r],"kint-show")?e.removeClass(a[r]):(e.addClass(a[r]),e.selectText(a[r])))},getParentByClass:function(t,a){for("undefined"==typeof a&&(a="kint");t=t.parentNode,t&&!e.hasClass(t,a););return t},getParentHeader:function(t,a){for(var r=t.nodeName.toLowerCase();"dd"!==r&&"dt"!==r&&e.getParentByClass(t);)t=t.parentNode,r=t.nodeName.toLowerCase();return e.getParentByClass(t)?("dd"===r&&a&&(t=t.previousElementSibling),t&&"dt"===t.nodeName.toLowerCase()&&e.hasClass(t,"kint-parent")?t:void 0):null},getChildren:function(e){do e=e.nextElementSibling;while(e&&"dd"!==e.nodeName.toLowerCase());return e},keyboardNav:{targets:[],target:0,active:!1,fetchTargets:function(){e.keyboardNav.targets=[],e.each(".kint nav, .kint-tabs>li:not(.kint-active-tab)",function(t){0===t.offsetWidth&&0===t.offsetHeight||e.keyboardNav.targets.push(t)})},sync:function(t){var a=document.querySelector(".kint-focused");if(a&&e.removeClass(a,"kint-focused"),e.keyboardNav.active){var r=e.keyboardNav.targets[e.keyboardNav.target];e.addClass(r,"kint-focused"),t||e.keyboardNav.scroll(r)}},scroll:function(e){var t=function(e){return e.offsetTop+(e.offsetParent?t(e.offsetParent):0)},a=t(e)-window.innerHeight/2;window.scrollTo(0,a)},moveCursor:function(t){for(e.keyboardNav.target+=t;e.keyboardNav.target<0;)e.keyboardNav.target+=e.keyboardNav.targets.length;for(;e.keyboardNav.target>=e.keyboardNav.targets.length;)e.keyboardNav.target-=e.keyboardNav.targets.length;e.keyboardNav.sync()},setCursor:function(t){e.keyboardNav.fetchTargets();for(var a=0;a<e.keyboardNav.targets.length;a++)if(t===e.keyboardNav.targets[a])return e.keyboardNav.target=a,!0;return!1}}};return window.addEventListener("click",function(t){var a=t.target,r=a.nodeName.toLowerCase();if(e.getParentByClass(a)){if("dfn"===r)e.selectText(a);else if(e.hasClass(a,"access-path"))e.selectText(a);else if("th"===r)return t.ctrlKey||e.sortTable(a.parentNode.parentNode.parentNode,a.cellIndex),!1;if(a=e.getParentHeader(a),a&&(e.keyboardNav.setCursor(a.querySelector("nav")),e.keyboardNav.sync(!0)),a=t.target,"li"===r&&"kint-tabs"===a.parentNode.className)return"kint-active-tab"!==a.className&&e.switchTab(a),a=e.getParentHeader(a,!0),a&&(e.keyboardNav.setCursor(a.querySelector("nav")),e.keyboardNav.sync(!0)),!1;if("nav"===r)return"footer"===a.parentNode.nodeName.toLowerCase()?(e.keyboardNav.setCursor(a),e.keyboardNav.sync(!0),a=a.parentNode,e.hasClass(a)?e.removeClass(a):e.addClass(a)):(window.clearTimeout(e.doubleClickTimer),e.doubleClickTimer=window.setTimeout(function(){e.toggleChildren(a.parentNode),e.keyboardNav.fetchTargets()},300)),!1;if(e.hasClass(a,"kint-ide-link")){var o=new XMLHttpRequest;return o.open("GET",a.href),o.send(null),!1}if(e.hasClass(a,"kint-popup-trigger")){var n=a.parentNode;if("footer"===n.nodeName.toLowerCase())n=n.previousSibling;else for(;n&&!e.hasClass(n,"kint-parent");)n=n.parentNode;e.openInNewWindow(n)}else{if(e.hasClass(a,"kint-access-path-trigger"))return e.showAccessPath(a.parentNode),!1;if("pre"===r&&3===t.detail)e.selectText(a);else{if(!e.getParentByClass(a,"kint-source")||3!==t.detail)return a=e.getParentHeader(a),a&&(e.toggle(a),e.keyboardNav.fetchTargets()),!1;e.selectText(e.getParentByClass(a,"kint-source"))}}}},!1),window.addEventListener("dblclick",function(t){var a=t.target;if(e.getParentByClass(a))return"nav"===a.nodeName.toLowerCase()&&"footer"!==a.parentNode.nodeName.toLowerCase()?(window.clearTimeout(e.doubleClickTimer),e.doubleClickTimer=null,e.toggleAll(a),e.keyboardNav.setCursor(a),e.keyboardNav.sync(!0),e.keyboardNav.scroll(a),!1):void 0},!1),window.onkeydown=function(t){if(t.target===document.body&&!t.altKey&&!t.ctrlKey){if(68===t.keyCode){if(e.keyboardNav.active)e.keyboardNav.active=!1;else if(e.keyboardNav.active=!0,e.keyboardNav.fetchTargets(),0===e.keyboardNav.targets.length)return e.keyboardNav.active=!1,!0;return e.keyboardNav.sync(),!1}if(!e.keyboardNav.active)return!0;if(9===t.keyCode)return e.keyboardNav.moveCursor(t.shiftKey?-1:1),!1;if(38===t.keyCode)return e.keyboardNav.moveCursor(-1),!1;if(40===t.keyCode)return e.keyboardNav.moveCursor(1),!1;var a=e.keyboardNav.targets[e.keyboardNav.target];if("li"===a.nodeName.toLowerCase()){if(32===t.keyCode||13===t.keyCode)return e.switchTab(a),e.keyboardNav.fetchTargets(),e.keyboardNav.sync(),!1;if(39===t.keyCode)return e.keyboardNav.moveCursor(1),!1;if(37===t.keyCode)return e.keyboardNav.moveCursor(-1),!1}if(a=a.parentNode,65===t.keyCode)return e.showAccessPath(a),!1;if("footer"===a.nodeName.toLowerCase()&&e.hasClass(a.parentNode,"kint")){if(32===t.keyCode||13===t.keyCode)e.hasClass(a)?e.removeClass(a):e.addClass(a);else if(37===t.keyCode)e.removeClass(a);else{if(39!==t.keyCode)return!0;e.addClass(a)}return!1}if(32===t.keyCode||13===t.keyCode)return e.toggle(a),e.keyboardNav.fetchTargets(),!1;if(39===t.keyCode||37===t.keyCode){var r=37===t.keyCode;if(e.hasClass(a))e.toggleChildren(a,r);else{if(r){var o=e.getParentHeader(a.parentNode.parentNode,!0);o&&(a=o,e.keyboardNav.setCursor(a.querySelector("nav")),e.keyboardNav.sync())}e.toggle(a,r)}return e.keyboardNav.fetchTargets(),!1}}},e}());
